[PHP]
; Extensions chargées automatiquement par Docker

; Limites de ressources
memory_limit = 256M
max_execution_time = 60
max_input_time = 60
max_input_vars = 3000
post_max_size = 64M
upload_max_filesize = 64M

; Gestion des erreurs
error_reporting = E_ALL
display_errors = Off
display_startup_errors = Off
log_errors = On
error_log = /proc/self/fd/2
ignore_repeated_errors = On

; Configuration du timezone
date.timezone = Europe/Paris

; Session
session.gc_probability = 1
session.gc_divisor = 1000
session.gc_maxlifetime = 1440
session.cookie_secure = 1
session.cookie_httponly = 1
session.cookie_samesite = "Lax"
session.use_strict_mode = 1

; Sécurité
expose_php = Off
allow_url_fopen = On
allow_url_include = Off
disable_functions =

; Performance
realpath_cache_size = 4096k
realpath_cache_ttl = 600

; Encodage
default_charset = "UTF-8"

; Variables
variables_order = "EGPCS"
request_order = "GP"

; Modules (commentés car déjà chargés automatiquement)
; extension=apcu
; extension=redis

; Configuration Zend
zend.enable_gc = On
zend.multibyte = Off

; Assert
zend.assertions = -1

; MySQLi
mysqli.allow_persistent = On
mysqli.max_persistent = -1
mysqli.max_links = -1
mysqli.default_port = 3306
mysqli.reconnect = Off

; PDO MySQL
pdo_mysql.default_socket =

; Redis
redis.arrays.retryinterval = 0
redis.clusters.cache_slots = 1
redis.clusters.persistent = 1
redis.pconnect.pooling_enabled = 1
redis.pconnect.connection_limit = 0
redis.session.lock_retries = -1
redis.session.lock_wait_time = 10000

; APCu
apc.enabled = 1
apc.enable_cli = 1
apc.shm_size = 128M
apc.entries_hint = 4096
apc.ttl = 7200
apc.gc_ttl = 3600
apc.mmap_file_mask = /tmp/apc.XXXXXX
apc.slam_defense = 1
apc.serializer = php

; OPcache (configuration intégrée)
opcache.enable=1
opcache.enable_cli=1
opcache.memory_consumption=256
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=20000
opcache.revalidate_freq=2
opcache.validate_timestamps=1
opcache.save_comments=1
opcache.enable_file_override=0
opcache.jit_buffer_size=100M
opcache.jit=tracing
opcache.log_verbosity_level=1
opcache.error_log=/proc/self/fd/2
opcache.optimization_level=0x7FFFBFFF
opcache.huge_code_pages=1
opcache.max_wasted_percentage=5